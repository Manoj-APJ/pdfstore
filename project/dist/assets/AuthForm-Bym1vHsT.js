import{c as b,u as y,r as t,j as e,s as x}from"./index-CYlx8I9C.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=b("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function v({mode:r}){const i=y(),[n,g]=t.useState(""),[o,p]=t.useState(""),[l,f]=t.useState(""),[d,c]=t.useState(""),[u,m]=t.useState(!1),h=async s=>{s.preventDefault(),c(""),m(!0);try{if(r==="signup"){const{error:a}=await x.auth.signUp({email:n,password:o,options:{data:{full_name:l}}});if(a)throw a;i("/account")}else{const{error:a}=await x.auth.signInWithPassword({email:n,password:o});if(a)throw a;i("/account")}}catch(a){c(a.message)}finally{m(!1)}};return e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("div",{children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:r==="login"?"Sign in to your account":"Create your account"})}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[d&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(w,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-sm font-medium text-red-800",children:d})})]})}),e.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[r==="signup"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"full-name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),e.jsx("input",{id:"full-name",name:"full-name",type:"text",required:!0,value:l,onChange:s=>f(s.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:s=>g(s.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:r==="login"?"current-password":"new-password",required:!0,value:o,onChange:s=>p(s.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:u?e.jsx("div",{className:"w-5 h-5 border-t-2 border-white rounded-full animate-spin"}):r==="login"?"Sign in":"Sign up"})})]})]})}export{v as A};
